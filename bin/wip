#!/usr/bin/env bash

# TODO:
#   * ask a Ruby option parser to get us the options for bash.
#   * allow passing args through:  
#     wip work-name --flag -- RAILS_ENV=production

cmd="$1"

case "${cmd:-index}" in
  help)
    # $ wip help                        --> wip-ruby... ["help"]
    wip-ruby "help" $2
    ;;
  index)
    # $ wip                             --> wip-ruby... ["index", "."]
    # $ wip index                       --> wip-ruby... ["index", "."]
    # $ wip index .                     --> wip-ruby... ["index", "."]
    # $ wip index ~/Workspace           --> wip-ruby... ["index", "/Users/corey/Workspace"]

    wip-ruby "index" "${2:-.}"
    ;;
  show)
    # $ wip show                        --> wip-bash... show '.'
    # $ wip show .                      --> wip-bash... show '.'
    # $ wip show work-name              --> wip-bash... show 'work-name'
    # $ wip show ~/Workspace/work-path  --> wip-bash... show '/Users/corey/Workspace/work-path'

    wip-bash "show" "${2:-.}"
    ;;
  *)
    # $ wip .                           --> wip-bash... show '.'
    # $ wip work-name                   --> wip-bash... show 'work-name'
    # $ wip ~/Workspace/work-path       --> wip-bash... show '/Users/corey/Workspace/work-path'

    wip-bash "$1"
    ;;
esac
