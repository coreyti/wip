#!/usr/bin/env bash

# TODO:
#   * ask a Ruby option parser to get us the options.
#   * allow passing args through:  
#     wip iwrtw -- RAILS_ENV=production

cmd="$1"

case "${cmd:-list}" in
  help)
    wip-cli "help"
    ;;
  index)
    # $ wip index         --> wip-index... base: .
    # $ wip index ./dir   --> wip-index... base: ./dir
    # $ wip index ~/dir   --> wip-index... base: /Users/corey/dir
    wip-cli "index" "${2:-.}"
    ;;
  list)
    # $ wip               --> wip-list... base: .
    # $ wip list .        --> wip-list... base: .
    # $ wip list ./dir    --> wip-list... base: ./dir
    # $ wip list ~/dir    --> wip-list... base: /Users/corey/dir
    wip-cli "list" "${2:-.}"
    ;;
  work)
    # $ wip work          --> wip-work... name: .
    # $ wip work project  --> wip-work... name: project
    wip-work "${2:-.}"
    ;;
  *)
    # $ wip project       --> wip-work... name: project
    wip-work "$1"
    ;;
esac
